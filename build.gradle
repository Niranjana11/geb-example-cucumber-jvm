buildscript {
	repositories {
		jcenter()
	}
	dependencies {
		classpath "com.github.samueltbrown:gradle-cucumber-plugin:0.7"
	}
}

apply plugin: 'java'
apply plugin: 'groovy'
apply plugin: 'idea'
apply plugin: "com.github.samueltbrown.cucumber"

repositories {
	jcenter()
}

ext {
	groovyVersion = '2.3.6'
	gebVersion = '0.9.3'
	seleniumVersion = '2.42.2'
	// NOTE there is a bug in the gradle-cucumber-plugin for later versions
	// of cucumber-jvm that stops tests from running
	cucumberJvmVersion = '1.1.6'
}

dependencies {
	testCompile "org.codehaus.groovy:groovy-all:$groovyVersion"
	testCompile "org.gebish:geb-core:$gebVersion"
	testCompile "org.seleniumhq.selenium:selenium-api:$seleniumVersion"

	cucumberCompile "info.cukes:cucumber-core:$cucumberJvmVersion"
	cucumberCompile "info.cukes:cucumber-groovy:$cucumberJvmVersion"

	// pick whichever drivers you want. We test against most of them here.
	// see src/test/resources/GebConfig.groovy for how to switch between them
	cucumberRuntime "org.seleniumhq.selenium:selenium-firefox-driver:$seleniumVersion"
	cucumberRuntime "org.seleniumhq.selenium:selenium-chrome-driver:$seleniumVersion"
	cucumberRuntime "org.seleniumhq.selenium:selenium-htmlunit-driver:$seleniumVersion"
	cucumberRuntime "com.github.detro.ghostdriver:phantomjsdriver:1.1.0"
}

cucumber {
	formats = [
		'pretty', // prints nice format out to the console
		'html:build/reports/cucumber', // html
		'junit:build/cucumber.xml' // junit format for integration with CI tool etc
	]
}
